<!DOCTYPE html>
<!--
<a-Duck-Suit v="0.3"
Contributors="Maca404; Brian"/>
-->

<html>
  <head>

    <meta charset="utf-8">
    <title>a-Duck-Suit</title>
    <meta name="a-Duck-Suit" content="Duck Suit">  
    <script src="https://aframe.io/releases/0.3.0/aframe.js"></script>
    <script src="https://cdn.rawgit.com/AltspaceVR/aframe-altspace-component/v1.4.0/dist/aframe-altspace-component.min.js"></script>
    <script src="https://sdk.altvr.com/libs/altspace.js/1.0.0/altspace.min.js"></script>>
    <script>
      AFRAME.registerComponent('collapse-model', {
        init: function () {

            this.el.addEventListener('model-loaded', function () {
            this.el.setObject3D('mesh', this.el.object3DMap.mesh.children[0]);
            // setObject3D emits this event in a-frame 0.4.0
            this.el.emit('object3dset', {type: 'mesh'});
          }.bind(this));
        }
      });
    </script>

  </head>
  <body>

    <!-- Start Scene -->
 
    <a-scene altspace="verticalAlign: middle; fullspace: true" vr-mode-ui="enabled: false" sync-system="author: Ducky; app: Gauntlet">

      <!-- Asset Loading -->

      <a-assets>

        <a-asset-item id="base-mtl" src="base.mtl"></a-asset-item>
        <a-asset-item id="base-obj" src="base.obj"></a-asset-item>
        <a-asset-item id="bl-obj" src="bl.obj"></a-asset-item>
        <a-asset-item id="bc-obj" src="bc.obj"></a-asset-item>
        <a-asset-item id="br-obj" src="br.obj"></a-asset-item>
        <a-asset-item id="axe-obj" src="axe.obj"></a-asset-item>
        <a-asset-item id="blade-obj" src="blade.obj"></a-asset-item>
        <a-asset-item id="bat-obj" src="bat.obj"></a-asset-item>
        <a-asset-item id="red-obj" src="red.obj"></a-asset-item>
        <a-asset-item id="black-obj" src="black.obj"></a-asset-item>
        <a-asset-item id="UFO-mtl" src="UFO.mtl"></a-asset-item>
        <a-asset-item id="UFO-obj" src="UFO.obj"></a-asset-item>
        <a-asset-item id="duck-mtl" src="duck.mtl"></a-asset-item>
        <a-asset-item id="duck-obj" src="duck.obj"></a-asset-item>
        <a-asset-item id="goose-mtl" src="goose.mtl"></a-asset-item>
        <a-asset-item id="goose-obj" src="goose.obj"></a-asset-item>
        <a-asset-item id="turtle-mtl" src="turtle.mtl"></a-asset-item>
        <a-asset-item id="turtle-obj" src="turtle.obj"></a-asset-item>
        <a-asset-item id="penis-mtl" src="penis.mtl"></a-asset-item>
        <a-asset-item id="penis-obj" src="penis.obj"></a-asset-item>
        <a-asset-item id="frog-obj" src="frog.obj"></a-asset-item>
      
        <!-- Image Assets --> 

        <img id="sky" src="sky3.jpg"/>
        <img id="bm" src="bm.1024x1024.jpg"/>
        <img id="moon" src="moon.jpg"/>
        <img id="welcome" src="welcome.jpg"/>
        <img id="duck-icon" src="duck.jpg"/>
        <img id="goose-icon" src="goose.jpg"/>
        <img id="turtle-icon" src="turtle.jpg"/>
        <img id="xxx-icon" src="xxx.jpg"/>  

      <a-mixin id="goose" obj-model="obj: #goose-obj; mtl: #goose-mtl" collapse-model scale="0.1 0.1 0.1"></a-mixin>
      <a-mixin id="goose-spine" rotation="0 -90 0" n-skeleton-parent="part: spine;" position="0.53 -0.4 -0.07" sync sync-n-skeleton-parent></a-mixin>
      <a-mixin id="duck" obj-model="obj: #duck-obj; mtl: #duck-mtl" collapse-model scale="1 1 1"></a-mixin>
      <a-mixin id="duck-spine" rotation="0 -90 0" n-skeleton-parent="part: spine;" position="0 -0.4 -0.05" sync sync-n-skeleton-parent></a-mixin>
      <a-mixin id="turtle" obj-model="obj: #turtle-obj; mtl: #turtle-mtl" collapse-model scale="15 15 15"></a-mixin>
      <a-mixin id="turtle-spine" rotation="0 -180 0" n-skeleton-parent="part: head;" position="0 0.0 0.1" sync sync-n-skeleton-parent></a-mixin>
      <a-mixin id="xxx" obj-model="obj: #penis-obj; mtl: #penis-mtl" collapse-model scale=".075 .075 .075"></a-mixin>
      <a-mixin id="xxx-spine" rotation="-90 0 0" n-skeleton-parent="part: spine;" position=".03 -.26 -.1" sync sync-n-skeleton-parent></a-mixin>



      </a-assets>      
      
      <!-- Aframe Script -->

      <!-- Starting Entity Tag To Contain The Gauntlet-->

      <a-entity id="scene" position="1 0 -46" rotation="0 0 0">

       <!-- Adding Sounds -->

       <a-entity id="screamsound" position="0 0 0" n-sound="src: scream.wav; on: scream; rolloff: logarithmic; minDistance: 1; maxDistance: 300" sync="own-on: scream" sync-n-sound></a-entity>
       <a-entity id="crackpipe" position="10 0 -400" n-sound="src: crack.wav; on: crack; rolloff: logarithmic; minDistance: 1; maxDistance: 300" sync="own-on: crack" sync-n-sound></a-entity>
       <a-entity id="buttoncrack" position="10 20 -400" n-sound="src: crack.wav; on: buttoncr; rolloff: logarithmic; minDistance: 1; maxDistance: 300" sync="own-on: buttoncr" sync-n-sound></a-entity>
       <a-entity id="batsound" position="-10 4 0" n-sound="src: bat.wav; on: bat; rolloff: logarithmic; minDistance: 1; maxDistance: 300" sync="own-on: bat" sync-n-sound></a-entity>
       <a-entity id="swordsound" position="10.5 4 0" n-sound="src: sword.wav; on: sword; rolloff: logarithmic; minDistance: 1; maxDistance: 300" sync="own-on: sword" sync-n-sound></a-entity>
       <a-entity id="winsound" position="16 4 0" n-sound="src: win.wav; on: win; rolloff: logarithmic; minDistance: 1; maxDistance: 300" sync="own-on: win" sync-n-sound></a-entity>

       <!-- Adding The Base OBJ For The Course -->

       <a-obj-model id="base1" scale="3 3 3" src="#base-obj" mtl="#base-mtl" position="0 0 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: true" ></a-obj-model>
       <a-obj-model id="UFO" scale=".15 .15 .15" src="#UFO-obj" mtl="#UFO-mtl" position="0 10 -20" rotation="0 0 35" n-mesh-collider="type: environment; convex: true" ></a-obj-model>
       <a-obj-model id="Penis" scale="1 1 1" src="#penis-obj" mtl="#penis-mtl" position="0 0 -28" rotation="0 0 0" n-mesh-collider="type: environment; convex: false" >
       <a-animation attribute="rotation" dur="10000" easing="linear" repeat="indefinite" from="0 0 90" to="360 0 90"></a-animation>
       </a-obj-model>
       <!--a-obj-model id="Turt" scale="100 100 100" src="#turtle-obj" mtl="#turtle-mtl" position="1 0 46" rotation="0 0 0" n-mesh-collider="type: environment; convex: true" ></a-obj-model-->
       <a-obj-model id="Frog" color="green" scale="1 1 1" src="#frog-obj" position="1 0 46" rotation="0 0 0" n-mesh-collider="type: environment; convex: true" ></a-obj-model>

       <!-- Adding The Sign -->

       <a-obj-model scale="3 3 0.3" src="#black-obj" mtl="#base-mtl" position="0 4 0" rotation="0 0 0"></a-obj-model>

       
       <a-obj-model position="0 4 0" rotation="0 0 0" scale="3 3 3" src="#red-obj" mtl="#base-mtl">
         <a-animation attribute="scale" easing="linear" delay="2000" dur="0.0001" repeat="indefinite" direction="alternate" from="3 3 3" to="0 0 0"></a-animation>
       </a-obj-model>
     

       <!-- Adding The False Floor Tiles  -->

       <a-obj-model id="bl" scale="3 3 3" src="#bl-obj" mtl="#base-mtl" position="0 3 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: true">
         <a-animation attribute="rotation" dur="1600" repeat="indefinite" from="0 0 0" to="180 0 0"></a-animation>
       </a-obj-model>
       <a-obj-model id="bc" scale="3 3 3" src="#bc-obj" mtl="#base-mtl" position="0 3 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: true">
         <a-animation attribute="rotation" dur="1400" repeat="indefinite" from="0 0 0" to="180 0 0"></a-animation>
       </a-obj-model>
       <a-obj-model id="br" scale="3 3 3" src="#br-obj" mtl="#base-mtl" position="0 3 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: true">
         <a-animation attribute="rotation" dur="1200" repeat="indefinite" from="0 0 0" to="180 0 0"></a-animation>
       </a-obj-model>

       <!-- Adding The Blades -->

       <a-obj-model id="axe1" scale="3 3 3" src="#axe-obj" mtl="#base-mtl" position="6 8 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: true">
         <a-animation attribute="rotation" dur="1600" easing="linear" repeat="indefinite" from="0 0 0" to="360 0 0"></a-animation>
       </a-obj-model>
       <a-obj-model id="blade1" scale="3 3 3" src="#blade-obj" mtl="#base-mtl" position="7.5 8 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: true">
         <a-animation attribute="rotation" dur="1800" easing="linear" repeat="indefinite" from="0 0 0" to="360 0 0"></a-animation>
       </a-obj-model>
       <a-obj-model id="axe1" scale="3 3 3" src="#axe-obj" mtl="#base-mtl" position="9 8 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: true">
         <a-animation attribute="rotation" dur="1200" easing="linear" repeat="indefinite" from="0 0 0" to="360 0 0"></a-animation>
       </a-obj-model>
       <a-obj-model id="blade1" scale="3 3 3" src="#blade-obj" mtl="#base-mtl" position="10.5 8 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: true">
         <a-animation attribute="rotation" dur="1500" easing="linear" repeat="indefinite" from="0 0 0" to="360 0 0"></a-animation>
       </a-obj-model>
       <a-obj-model id="axe1" scale="3 3 3" src="#axe-obj" mtl="#base-mtl" position="12 8 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: true">
         <a-animation attribute="rotation" dur="1000" easing="linear" repeat="indefinite" from="0 0 0" to="360 0 0"></a-animation>
       </a-obj-model>
       <a-obj-model id="blade1" scale="3 3 3" src="#blade-obj" mtl="#base-mtl" position="13.5 8 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: true">
         <a-animation attribute="rotation" dur="1300" easing="linear" repeat="indefinite" from="0 0 0" to="360 0 0"></a-animation>
       </a-obj-model>
       <a-obj-model id="axe1" scale="3 3 3" src="#axe-obj" mtl="#base-mtl" position="15 8 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: true">
         <a-animation attribute="rotation" dur="1100" easing="linear" repeat="indefinite" from="0 0 0" to="360 0 0"></a-animation>
       </a-obj-model>

       <!-- Adding the Bats -->

       <a-obj-model id="bat1" scale="3 3 3" src="#bat-obj" mtl="#base-mtl" position="-12 0 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: true">
         <a-animation attribute="rotation" dur="2600" easing="linear" repeat="indefinite" from="0 0 0" to="0 360 0"></a-animation>
       </a-obj-model>
       <a-obj-model id="bat1" scale="3 3 3" src="#bat-obj" mtl="#base-mtl" position="-10 0 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: true">
         <a-animation attribute="rotation" dur="2300" easing="linear" repeat="indefinite" from="0 0 0" to="0 360 0"></a-animation>
       </a-obj-model>
       <a-obj-model id="bat1" scale="3 3 3" src="#bat-obj" mtl="#base-mtl" position="-8 0 0" rotation="0 0 0" n-mesh-collider="type: environment; convex: true">
         <a-animation attribute="rotation" dur="2000" easing="linear" repeat="indefinite" from="0 0 0" to="0 360 0"></a-animation>
       </a-obj-model>

       <!-- Adding The Containers To Trigger The Sound Effects -->

       <a-entity id="fall" position="0 0 0" n-box-collider="isTrigger:true; type:environment; size: 30 3.5 15" n-container="capacity:1" wire="on: container-full; emit: scream; targets: #screamsound"></a-entity>
       <a-entity id="fallmoon" position="10 70 -400" n-box-collider="isTrigger:true; type:environment; size: 150 1 150" n-container="capacity:1" wire="on: container-full; emit: crack; targets: #crackpipe"></a-entity>
       <!--a-box scale=".3 3.5 .3" position="0 0 0"></a-box-->

       <a-entity id="sword1" position="13 4 0" n-box-collider="isTrigger:true; type:environment; size: 3 3 3" n-container="capacity:1" wire="on: container-full; emit: sword; targets: #swordsound"></a-entity>
       <a-entity id="sword2" position="10 4 0" n-box-collider="isTrigger:true; type:environment; size: 3 3 3" n-container="capacity:1" wire="on: container-full; emit: sword; targets: #swordsound"></a-entity>
       <a-entity id="sword3" position="7 4 0" n-box-collider="isTrigger:true; type:environment; size: 3 3 3" n-container="capacity:1" wire="on: container-full; emit: sword; targets: #swordsound"></a-entity>
       <!--a-box scale=".3 .3 .3" position="-10 4 0"></a-box-->

       <a-entity id="bat1" position="-7 4 0" n-box-collider="isTrigger:true; type:environment; size: 3 3 3" n-container="capacity:1" wire="on: container-full; emit: bat; targets: #batsound"></a-entity>
       <a-entity id="bat2" position="-10 4 0" n-box-collider="isTrigger:true; type:environment; size: 3 3 3" n-container="capacity:1" wire="on: container-full; emit: bat; targets: #batsound"></a-entity>
       <a-entity id="bat2" position="-13 4 0" n-box-collider="isTrigger:true; type:environment; size: 3 3 3" n-container="capacity:1" wire="on: container-full; emit: bat; targets: #batsound"></a-entity>
       <!--a-box scale=".3 .3 .3" position="10 4 0"></a-box-->

       <a-entity id="win1" position="16 4 0" n-box-collider="isTrigger:true; type:environment; size: 0.1 3 3" n-container="capacity:1" wire="on: container-full; emit: win; targets: #winsound, #win1">
         <!--a-box scale=".3 .3 .3" position="0 0 0"></a-box-->
         <a-animation attribute="position" begin="win" dur="8000" easing="linear" from="16 400 0" to="16 4 0"></a-animation-->
       </a-entity>

           
      </a-entity>
   

       
              
       <a-entity id="duck-spine-instantiator" geometry="primitive: box" material="src: #duck-icon" position='-0.81 0.005 -1.55' rotation="-26 0 0" scale="0.15 0.15 0.003" n-cockpit-parent instantiator="on: click; group: duckbb; mixin: duck duck-spine;" altspace-cursor-collider="enabled: true"></a-entity>
       <a-entity id="goose-spine-instantiator" geometry="primitive: box" material="src: #goose-icon" position='-01.01 0.005 -1.55' rotation="-26 0 0" scale="0.15 0.15 0.003" n-cockpit-parent instantiator="on: click; group: duckbb; mixin: goose goose-spine;" altspace-cursor-collider="enabled: true"></a-entity>
       <a-entity id="turtle-spine-instantiator" geometry="primitive: box" material="src: #turtle-icon" position='-0.61 0.005 -1.55' rotation="-26 0 0" scale="0.15 0.15 0.003" n-cockpit-parent instantiator="on: click; group: duckbb; mixin: turtle turtle-spine;" altspace-cursor-collider="enabled: true"></a-entity>
       <a-entity id="xxx-spine-instantiator" geometry="primitive: box" material="src: #xxx-icon" position='-0.41 0.005 -1.55' rotation="-26 0 0" scale="0.15 0.15 0.003" n-cockpit-parent instantiator="on: click; group: duckbb; mixin: xxx xxx-spine;" altspace-cursor-collider="enabled: true"></a-entity>
       
       
       


       
                <!--End Of The Gauntlet Course Entity -->  
              
             
        <!-- Adding The Elevator and Platform -->

      <a-box id="ef" material="src: #bm; repeat: 1 1" depth="2" height=".25" width="2" position="-6.5 0.1 3" n-mesh-collider="type: environment; convex: true"></a-box>

      <a-box id="el" material="src: #bm; repeat: 1 1" depth="2" height=".25" width="2" position="-6.5 11.5 3" n-mesh-collider="type: environment; convex: true" sync="own-on: up" sync-transform>

      <a-animation attribute="position" begin="up" dur="10000" easing="linear" repeat="0" fill="forwards" from="-6.5 0.1 3" to="-6.5 11.5 3"></a-animation>
      </a-box>

      <a-box id="elva" color="red" scale="0.02 0.2 0.2" position="-5.7 1.5 3" wire="on: click; emit: up; targets: #el"></a-box>

      <a-box id="wm" material="src: #welcome; repeat: 1 1" scale=".2 6.5 11.5" position="8.628 3.5 -1.9" sync="own-on: wmb" sync-transform>
        <a-animation attribute="position" begin="wmb" dur="0.000001" easing="linear" repeat="0" fill="forwards" direction="alternate" from="8.628 3.5 -1.9" to="8.628 10000 -1.9"></a-animation>
      </a-box>

      <a-box id="wm1" color="red"
           scale="0.02 0.2 0.2" 
           position="8.628 1.5 4.7" 
           wire="on: click; emit: wmb; targets: #wm">
      </a-box>


      <!-- Adding Easter Eggs -->

      <a-box id="m1" material="src: #bm; repeat: 1 1; visible: false"
           depth=".3" height=".5" width=".3" position="-4.6 4.1 5" 
           wire="on: click; emit: whoa; targets: #moe">
      </a-box>

      <!--a-box id="m2" material="src: #bm; repeat: 1 1" 
           depth=".2" height=".2" width=".2" position="-12 1 3" 
           wire="on: click; emit: ahh; targets: #met">
      </a-box-->

      <!--a-sphere id="met" color="red" position="800 1400 -41" radius="80" segments-width="16" segments-height="16" sync="own-on: ahh" sync-transform>
        <a-animation attribute="position" begin="ahh" dur="10000" easing="linear" from="800 1400 -400" to="-400 -1400 -200"></a-animation>
      </a-sphere-->

     
      <a-box id="deck" material="src: #bm; repeat: 10 10" depth="15" height=".25" width="15" position="2 11.5 -1.5" n-mesh-collider="type: environment; convex: true"></a-box>


     <!-- Adding The Sky Sphere And Moon -->
      <a-box color="grey" position="-39.75 .6 -400" rotation="0 0 0" scale=".5 1 .5" n-mesh-collider="type: environment; convex: true"></a-box>

      <a-box id="buttonc" color="red" scale="0.2 0.02 0.2" position="-39.75 1.11 -400" wire="on: click; emit: buttoncr; targets: #buttoncrack"></a-box>      
      
      <a-box color="black" position="10 113 -400" rotation="35 0 0" scale="10 .5 10" n-mesh-collider="type: environment; convex: true"></a-box>

      <a-box material="src: #bm; repeat: 10 10" position="10 0 -400" rotation="0 0 0" scale="100 .1 100" n-mesh-collider="type: environment; convex: true"></a-box>

       <a-entity id="moe" position="10 0 -400" sync="own-on: whoa" sync-transform>
          <a-sphere id="moon" material="src: #moon; repeat: 1 1" position="0 0 0" radius="80" segments-width="16" segments-height="16" n-sphere-collider="type: hologram">
          </a-sphere>
          <a-animation begin="whoa" attribute="rotation" dur="3000" easing="linear" repeat="0" direction="alternate" from="0 0 0" to="0 3600 0"></a-animation>
      </a-entity>

      
     <a-sky radius="1001" rotation="0 90 0" src="#sky" segments-width="16" segments-height="16"></a-sky>

      

    </a-scene>
  </body>
</html>